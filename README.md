# Risk of Rain 2 Custom Texts

This repository contains a script to automatically replace specific words in Risk of Rain 2's language files with custom replacements, and provides the modified text files ready to use in the game.

## Features

- **Automated word replacement**: Script automatically processes all JSON language files
- **Case-aware replacements**: Handles lowercase, capitalized, and uppercase variations (e.g., "altar", "Altar", "ALTAR")
- **Plural form support**: Automatically handles plural forms (e.g., "altars", "Altars", "ALTARS")
- **Preserves formatting**: Maintains original file structure, spacing, and formatting

## Current Word Replacements

The following words are being replaced in all text files:

| Original Word | Replacement | Plural Replacement     |
| ------------- | ----------- | ---------------------- |
| `altar`       | `pillar`    | `altars` → `pillars`   |
| `obelisk`     | `pillar`    | `obelisks` → `pillars` |
| `offer to`    | `hit`       | -                      |
| `god`         | `human`     | `gods` → `peope`       |

You can customize these replacements by editing `replacement.json`.

## Installation

### Option 1: Use Pre-modified Files (Quick Setup)

**1. Find the `Languages` folder in the ROR2 files**

For the game installed through Steam, it's located at:

```
C:\Program Files (x86)\Steam\steamapps\common\Risk of Rain 2\Risk of Rain 2_Data\StreamingAssets\Language
```

There will be folders with `.json` files for each language the game supports.

**2. Replace the `en` folder**

Replace the `en` folder with the one from this repository's `modified-texts/en` folder, and you're good to go!

### Option 2: Generate Your Own Modified Files

**1. Install Node.js**

Make sure you have Node.js installed on your system.

**2. Customize replacements (optional)**

Edit `replacement.json` to add or modify word replacements. The format is:

```json
{
  "original word": "replacement word",
  "plural form": "plural replacement"
}
```

**3. Run the replacement script**

```bash
node replace-words.js
```

This will:

- Read all JSON files from `original-texts/en/`
- Apply word replacements from `replacement.json`
- Write modified files to `modified-texts/en/`

**4. Install the modified files**

Follow the steps in Option 1, step 2 to install the generated files.

## File Structure

```
├── original-texts/          # Original game language files
│   └── en/
├── modified-texts/          # Generated modified language files
│   └── en/
├── replacement.json         # Configuration: words to replace
├── replace-words.js         # Main replacement script
└── README.md
```

## How It Works

The `replace-words.js` script:

1. Reads `replacement.json` to get the word replacement mappings
2. Processes each JSON file in `original-texts/en/`
3. Recursively finds all string values in the JSON structure
4. Replaces words in any case variation (lowercase, capitalized, uppercase)
5. Automatically handles plural forms by adding 's' or 'es'
6. Preserves the original file structure and formatting
7. Writes the modified files to `modified-texts/en/`

## Customization

### Adding New Word Replacements

Edit `replacement.json` and add your replacements:

```json
{
  "altar": "pillar",
  "new word": "replacement",
  "another word": "its replacement"
}
```

Then run `node replace-words.js` to regenerate all files.

### Notes

- Words are matched using word boundaries, so partial matches won't occur (e.g., "altar" won't match "altarstone")
- Case variations are handled automatically
- Plural forms are automatically generated by appending 's' or 'es' to the replacement
- The script only replaces words in string values, not in JSON keys

## Troubleshooting

**Files aren't being replaced correctly?**

- Make sure you're editing `replacement.json` with valid JSON syntax
- Check that the original files are in `original-texts/en/`
- Ensure you have write permissions for `modified-texts/en/`

**Game isn't showing changes?**

- Verify you replaced the correct `en` folder in the game's Language directory
- Make sure you restarted the game
- Check that the file names match exactly (case-sensitive)

## License

This is a fan modification for Risk of Rain 2. All original game content belongs to Gearbox Publishing and Hopoo Games.
